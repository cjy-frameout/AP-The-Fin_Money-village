<!DOCTYPE html>
<html lang="ko" class="leaf">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover">
<title></title>
<meta http-equiv="Cache-Control" content="No-Cache">
<meta http-equiv="Pragma" content="No-Cache">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!--<meta name="title" content="">-->
<meta name="description" content="">
<!--<meta name="keywords" content="">-->
<!-- The Open Graph protocol -->
<meta property="og:type" content="website">
<meta property="og:title" content="">
<meta property="og:description" content="">
<meta property="og:url" content="">
<meta property="og:image" content=""><!-- [D]리얼경로로 변경하세요 -->
<!-- //The Open Graph protocol -->
<link rel="SHORTCUT ICON" href=""><!-- [D]리얼경로로 변경하세요 -->
<link rel="stylesheet" type="text/css" href="../../css/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../css/reset.css">
<link rel="stylesheet" type="text/css" href="../../css/content.css">
<link rel="stylesheet" type="text/css" href="../../css/theme_apthefin.css">
<script type="text/javascript" src="../../js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="../../js/jquery-ui.min.js"></script>
<script type="text/javascript" src="../../js/jquery.ui.touch-punch.min.js"></script>
<script type="text/javascript" src="../../js/slide_slick.js"></script>
<script type="text/javascript" src="../../js/publishing.ui.library.1.0.0.js"></script>
<script type="text/javascript" src="../../js/cmd.js"></script>

<!-- [S] chart -->
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
<!-- [E] chart -->

<style>
  
.type_calendar .highcharts-label{display:table;text-align: center;}

.type_calendar .highcharts-label .chart_label_box b:first-child{font-size:17px;background-color: transparent;}
.type_calendar .highcharts-label .chart_label_box b:last-child{font-size:14px;color: #666;}
.wrap_chart .highcharts-label-box{width:70px;height:70px;}
.wrap_chart .chart_label_box {
    position: relative;
    display: flex;
    height: 70px;width:70px;
    font-weight: 700;
    flex-direction: column;
    justify-content: center;
}
.wrap_chart .chart_label_box b {
    display: initial;
    align-items: center;
    z-index: 2;
}
.wrap_chart .highcharts-data-label > span {
    overflow: inherit !important;left:0 !important;top:0 !important;width:70px !important;
}
.wrap_chart.type_calendar .highcharts-figure {
    height: 320px;
    outline: 1px solid red;
    background-color: red;
}
</style>
</head>
<body>
<!-- wrap -->
<div class="wrap">
	

	<!-- container -->
	<div class="container">
		<div class="content">
         
            <div class="wrap_chart_box">
                <p class="guide_stit mgt10">소비 차트</p>
                <div class="wrap_ratio">
                    <div class="cal_cate_history">
                        <div class="left">
                            <p class="name">이만큼 썼어요</p>
                        </div>
                        <div class="left">
                            <p class="amount">
                                <em class="num">32,250,000</em> 원
                            </p>
                        </div>
                    </div>
    
                    <div class="graph">
                        <h4 class="tit_h4 blind">업종별 지출 비율</h4>
                        <!-- width, 하단 js -->
                        <p class="shopping"><span class="blind"></span></p>
                        <p class="food"><span class="blind"></span></p>
                        <p class="beauty"><span class="blind"></span></p>
                        <p class="pleasure"><span class="blind"></span></p>
                        <p class="others"><span class="blind"></span></p>

                    </div>
                </div>
            </div>

            <div class="fluct_box">
                <p class="guide_stit mgt10">자동차 그래프</p>

                <ul class="fluct_list">
                    <li>
                        <div class="fluct_list_tit">
                            <p class="tit"><em>2022.10</em> 시세</p>
                        </div>
                        <div class="exp_bar">
                            <div class="bar">
                                <p class="exp_amount"><em class="num">31.5%</em></p>

                                <!-- <span class="bar_on" style="width: 68%;"><em>68.5%</em></span> -->
                                <div class="bar_total"> <!--  22.11.08 구조변경 -->
                                    <span class="bar_on" style="width: 68%;"></span>
                                    <em class="bar_on_num">68%</em>
                                </div>
                            </div>
                            <p class="fluct_amount"><em class="num">28,450,000</em>원</p>
                        </div>
                    </li>

                    <li>
                        <div class="fluct_list_tit">
                            <p class="tit"><em>2023.04</em> 시세</p>
                        </div>
                        <div class="exp_bar">
                            <div class="bar">
                                <p class="exp_amount"><em class="num">43.9%</em></p>

                                <!-- <span class="bar_on" style="width: 56%;"><em>56.1%</em></span> -->
                                <div class="bar_total"> <!--  22.11.08 구조변경 -->
                                    <span class="bar_on" style="width: 56%;"></span>
                                    <em class="bar_on_num">56.1%</em>
                                </div>
                            </div>
                            <p class="fluct_amount"><em class="num">23,450,000</em>원</p>
                        </div>
                    </li>
                    
                    <li>
                        <div class="fluct_list_tit">
                            <p class="tit"><em>2023.10</em> 시세</p>
                        </div>
                        <div class="exp_bar">
                            <div class="bar">
                                <p class="exp_amount"><em class="num">56.1%</em></p>

                                <!-- <span class="bar_on" style="width: 43%;"> <em class="bar_on_num">43.9%</em></span> -->
                                <div class="bar_total"> <!--  22.11.08 구조변경 -->
                                    <span class="bar_on" style="width: 43%;"></span>
                                    <em class="bar_on_num">43.9%</em>
                                </div>
                              
                            </div>
                            <p class="fluct_amount"><em class="num">19.340,000</em>원</p>
                        </div>
                    </li>

                    <li>
                        <div class="fluct_list_tit">
                            <p class="tit"><em>2024.04</em> 시세</p>
                        </div>
                        <div class="exp_bar">
                            <div class="bar">
                                <p class="exp_amount"><em class="num">68.5%</em></p>

                                <!-- <span class="bar_on" style="width: 30%;"><em>31.5%</em></span> -->
                                <div class="bar_total"> <!--  22.11.08 구조변경 -->
                                    <span class="bar_on" style="width: 30%;"></span>
                                    <em class="bar_on_num">31.5%</em>
                                </div>
                            </div>
                            <p class="fluct_amount"><em class="num">16.450,000</em>원</p>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="set_list">
                <ul class="chart_set">
                     <li class="list"> 
                         <div class="list_cate">
                             <a href="#" class="link_detail">
                                 <p class="cate">
                                     <span class="ico_rate type_18"></span>
                                     경조/선물
                                 </p>
                             </a>
                         </div>
                         <div class="exp_bar minus"> <!-- 예산 정상일경우 minus 클래스 추가 -->
                             <div class="bar">
                                 <p class="exp_amount"></p>
                                 <div class="bar_total"> 
                                     <span class="bar_on" style="width: 68%;"></span>
                                 </div>
                             </div>
                             <div class="exp_num"> 
                                 <p class="fluct_amount left"><em class="num">2,000,000</em> 원</p>
                                 <p class="fluct_amount right"><em class="num">3,000,000</em> 원</p>
                             </div>
                         </div>
                     </li>
                     <li class="list">
                         <div class="list_cate">
                             <a href="#" class="link_detail">
                                 <p class="cate">
                                     <span class="ico_rate type_15"></span>
                                     교육/학습 
                                 </p>
                             </a>
                         </div>
                         <div class="exp_bar minus">
                             <div class="bar">
                                 <p class="exp_amount"></p>
                                 <div class="bar_total"> 
                                     <span class="bar_on" style="width: 40%;"></span>
                                 </div>
                             </div>
                             <div class="exp_num">
                                 <p class="fluct_amount left"><em class="num">2,000,000</em> 원</p>
                                 <p class="fluct_amount right"><em class="num">3,000,000</em> 원</p>
                             </div>
                         </div>
                     </li>
                     <li class="list">
                         <div class="list_cate">
                             <a href="#" class="link_detail">
                                 <p class="cate">
                                     <span class="ico_rate type_07"></span>
                                     교통 
                                 </p>
                             </a>
                         </div>
                         <div class="exp_bar minus">
                             <div class="bar">
                                 <p class="exp_amount"></p>
                                 <div class="bar_total"> 
                                     <span class="bar_on" style="width: 0%;"></span>
                                 </div>
                             </div>
                             <div class="exp_num">
                                 <p class="fluct_amount left"><em class="num">0</em> 원</p>
                                 <p class="fluct_amount right"><em class="num">3,000,000</em> 원</p>
                             </div>
                         </div>
                     </li>
                
                </ul>
            </div>

            <!-- [S] 차트 파이 타입 -->
            <div class="wrap_chart type_calendar">
                <figure class="highcharts-figure" aria-hidden="true">
                    <div id="chart_pie_calendar"></div>
                </figure>
                <!-- 접근성 -->
                <div class="chart_disable blind">
                    <table class="info_tbl">
                        <caption>지출 통계 현황</caption>
                        <colgroup>
                            <col /><col />
                        </colgroup>
                        <thead>
                            <tr>
                                <th scope="col">종목</th>
                                <th scope="col">비율</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row"><div>식비</div></th>
                                <td><div><span class="rate_01"></span></div></td>
                            </tr>
                            <tr>
                                <th scope="row"><div>교육</div></th>
                                <td><div><span class="rate_02"></span></div></td>
                            </tr>
                            <tr>
                                <th scope="row"><div>쇼핑</div></th>
                                <td><div><span class="rate_03"></span></div></td>
                            </tr>
                            <tr>
                                <th scope="row"><div>교통</div></th>
                                <td><div><span class="rate_04"></span></div></td>
                            </tr>
                            <tr>
                                <th scope="row"><div>05</div></th>
                                <td><div><span class="rate_05"></span></div></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- [E] 차트 파이 타입 -->
            
		</div>
	</div>
</div>
<!-- //wrap -->

<script>
$(document).ready(function(){

    // [S] 사용 소비 비율
    if($('.wrap_ratio').length){

    var length = $(".wrap_ratio .graph p").length;
    for(var i = 1; i <= length; i++){
        /* 카테고리 순서대로 animate딜레이 줌 */
        $(".wrap_ratio .graph p").eq(i).delay(500*i)
    }

    $('.wrap_ratio .graph .shopping').animate({'width':'50%'});
    $('.wrap_ratio .graph .food').animate({'width':'35%'});
    $('.wrap_ratio .graph .beauty').animate({'width':'13%'});
    $('.wrap_ratio .graph .others').animate({'width':'2%'});
    //접근성
    setTimeout(function() {
        var shoppingWidth = document.querySelector('.wrap_ratio .graph .shopping').style.width;
        var foodWidth = document.querySelector('.wrap_ratio .graph .food').style.width;
        var beautyWidth = document.querySelector('.wrap_ratio .graph .beauty').style.width;
        var pleasureWidth = document.querySelector('.wrap_ratio .graph .pleasure').style.width;
        var othersWidth = document.querySelector('.wrap_ratio .graph .others').style.width;
        
        $('.wrap_ratio .graph .others').find('.blind').text('그 외 13개 비율'+othersWidth);
    }, 1000);
    }
    // [E] 사용 소비 비율




	// 차트 파이 캘린더 타입
	Highcharts.chart('chart_pie_calendar', {
		title: {text: ''},// 타이틀 숨김
		exporting: { enabled: false },// 우측상단 햄버거메뉴 숨김
   		credits: {enabled: false},// highchart 워터마크 숨김
		tooltip:  { enabled: false },// 툴팁 숨김
		chart: {
			plotBackgroundColor: '#fff',
			plotBorderWidth: null,
			plotShadow: false,
			type: 'pie',
			backgroundColor: '#fff',
			events: {
				load: function () {
					//전체 카테고리 말풍선 초기 비노출
					$('.highcharts-data-label').hide();
					//비중 첫번째로 큰 카테고리 말풍선만 노출
					$('.highcharts-data-label-color-0').show().find('.highcharts-label-box').css({'stroke-width':'3px'});
				},
			},
		},
		plotOptions: {
			pie: {
				allowPointSelect: true, // 선택모션
            	slicedOffset: 10, // 슬라이스간격
				cursor: 'pointer',
				colors: ['#51DBD9', '#C3E25B', '#7CA7EE', '#C77CE2', '#F482A4'], // 색상지정 
				colorByPoint: true, // 색상지정
				margin: 0,
				padding: 0,
				borderWidth: 0,
				point: {
					events: {
						click: function () {
							$('.highcharts-data-label').css({'opacity':'1','transition':'all .5s ease'});//카테고리 말풍선 정보
							$('.highcharts-data-label .highcharts-label-box').css({'stroke-width':'1px','transition':'all 1s ease'});//카테고리 말풍선 정보

							/* 예금·페이 : type_01, #51DBD9 */
							if(this.name === '예금·페이'){
								$('.highcharts-data-label').hide();
								$('.highcharts-data-label-color-0').show()
                                                                
								if( this.selected === false){
									$('.highcharts-data-label-color-0 .highcharts-label-box').css({'stroke-width':'3px'});
								}else{
									//$('.highcharts-data-label').hide();
								}
							}
							/* 투자 : type_02, #C3E25B */
							else if(this.name === '투자'){
								$('.highcharts-data-label').hide();
								$('.highcharts-data-label-color-1').show();
								if( this.selected === false){
									$('.highcharts-data-label-color-1 .highcharts-label-box').css({'stroke-width':'3px'});
								}else{
									//$('.highcharts-data-label').hide();
								}
							}
							/* 연금 : type_03, #7CA7EE */
							else if(this.name === '연금'){
								$('.highcharts-data-label').hide();
								$('.highcharts-data-label-color-2').show();
								if( this.selected === false){
									$('.highcharts-data-label-color-2 .highcharts-label-box').css({'stroke-width':'3px'});
								}else{
									//$('.highcharts-data-label').hide();
								}
							}
							/* 보험 : type_04, #C77CE2 */
							else if(this.name === '보험'){
								$('.highcharts-data-label').hide();
								$('.highcharts-data-label-color-3').show();
								if( this.selected === false){
									$('.highcharts-data-label-color-3 .highcharts-label-box').css({'stroke-width':'3px'});
								}else{
									//$('.highcharts-data-label').hide();
								}
							}
							/* 대출 : type_05, #F482A4 */
							else if(this.name === '대출'){
								$('.highcharts-data-label').hide();
								$('.highcharts-data-label-color-4').show();
								if( this.selected === false){
									$('.highcharts-data-label-color-4 .highcharts-label-box').css({'stroke-width':'3px'});
								}else{
									//$('.highcharts-data-label').hide();
								}
							}
						}// click
					}// events
				},// point
			},// pie
		},// plotOptions
		series: [{
            innerSize: '38%', //도넛모양
			size: '60%',// 크기
			startAngle: 0,// 각도 시작
			endAngle: 360,// 각도 끝
			center: ['50%', '26%'], //pie 위치
			dataLabels: {
				distance: 0, //항목명과 그래프의 간격
				color: '#000',
				backgroundColor: '#fff',
				borderWidth: 0, //말풍선 라인
				borderRadius: 64,
                connectorPadding: 0,
				overflow: 'inherit',
				style : {
         			fontFamily: 'notoSans',
				 	fontSize: '17px',
				 	fontWeight: '700',
				},
			},
			data:
			[
				{
					name: '예금·페이',
					y: 40,// 100퍼센트 비율
					sliced: true,
					selected: true,
					dataLabels: {
						useHTML: true,
						format: '<p class="chart_label_box rate_01"><b style="color:#51DBD9;"> {point.percentage:1f}% </b><b> {point.name} </b></p>',
						borderColor: '#51DBD9',
					},
				},
				{
					name: '투자',
					y: 22,
					sliced: false,
					selected: false,
					dataLabels: {
						useHTML: true,
						format: '<p class="chart_label_box rate_02"><b style="color:#C3E25B;"> {point.percentage:1f}% </b> <b> {point.name}</b> </p>',
						borderColor: '#C3E25B',
					},
				},
				{
					name: '연금',
					y: 18,
					sliced: false,
					selected: false,
					dataLabels: {
						useHTML: true,
						format: ' <p class="chart_label_box rate_03"><b style="color:#7CA7EE;"> {point.percentage:1f}% </b><b> {point.name}</b> </p>',
						borderColor: '#7CA7EE',
					},
				},
				{
					name: '보험',
					y: 10,
					sliced: false,
					selected: false,
					dataLabels: {
						useHTML: true,
						format: ' <p class="chart_label_box rate_04"><b style="color:#C77CE2;"> {point.percentage:1f}% </b><b> {point.name}</b> </p>',
						borderColor: '#C77CE2',
					},
				},
				{
					name: '대출',
					y: 10,
					sliced: false,
					selected: false,
					dataLabels: {
						useHTML: true,
						format: ' <p class="chart_label_box rate_05"><b style="color:#F482A4;"> {point.percentage:1f}% </b><b> {point.name}</b> </p>',
						borderColor: '#F482A4',
					},
				}
			]// data
		}]// series
	});
	//접근성
	$('.chart_disable .rate_01').text($('.chart_label_box.rate_01 b:last-child').html());
	$('.chart_disable .rate_02').text($('.chart_label_box.rate_02 b:last-child').html());
	$('.chart_disable .rate_03').text($('.chart_label_box.rate_03 b:last-child').html());
	$('.chart_disable .rate_04').text($('.chart_label_box.rate_04 b:last-child').html());
	$('.chart_disable .rate_05').text($('.chart_label_box.rate_05 b:last-child').html());

    // [E] 차트 파이 타입 */

});
</script>
</body>
</html>
